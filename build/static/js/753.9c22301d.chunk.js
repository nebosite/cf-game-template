"use strict";(self.webpackChunk_clusterfun_game_template=self.webpackChunk_clusterfun_game_template||[]).push([[753],{969:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r,a,i,s,o,l,d,u,c,p=t(269),m=t(326),h=t(229),v=t(671),f=t(144),x=t(340),g=t(347),y=t(791),j=t(907),b=t(495),_={gamepresenter:"Presenter_gamepresenter__UdgA+",gameTitle:"Presenter_gameTitle__wZp1O",question:"Presenter_question__NPonD",divRow:"Presenter_divRow__t-w08",answerBox:"Presenter_answerBox__8mbm2",nameBox:"Presenter_nameBox__FpyNl",roomCode:"Presenter_roomCode__8-mvG",gameCanvasFrame:"Presenter_gameCanvasFrame__rFTGh",gameCanvas:"Presenter_gameCanvas__TLd9I"},P=t(694),S=t.n(P),Z=t(98),C={images:{logo:t.p+"static/media/Logo.5c81a252fab53508bfa4.png"},sounds:{ding:t.p+"static/media/ding.31bed03ac44f719807ac.wav",hello:t.p+"static/media/hello.b46b9edf49f10635ba94.mp3",response:t.p+"static/media/response.d52717ecde26e9e3e263.mp3"}},w=t(188),M=t(152),N=t(184),k=(0,j.f3)("appModel")(r=(0,j.Pi)(r=function(e){(0,x.Z)(t,e);var n=(0,g.Z)(t);function t(){return(0,v.Z)(this,t),n.apply(this,arguments)}return(0,f.Z)(t,[{key:"render",value:function(){var e=this.props.appModel;return e?(0,N.jsxs)("div",{children:[(0,N.jsxs)("h3",{children:["Welcome to ",e.name]}),(0,N.jsx)("p",{children:"This is an example app for clusterfun."}),(0,N.jsxs)("p",{children:["To Join: go to http://",window.location.host," and enter this room code: ",e.roomId]}),e.players.length>0?(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{style:{fontWeight:600},children:"Joined team members:"}),(0,N.jsx)("div",{className:_.divRow,children:e.players.map((function(e){return(0,N.jsx)("div",{className:_.nameBox,children:e.name},e.playerId)}))})]}):null,e.players.length<e.minPlayers?(0,N.jsx)("div",{children:"Waiting for at least ".concat(e.minPlayers," players to join ...")}):(0,N.jsx)("button",{className:_.presenterButton,onClick:function(){return e.startGame()},children:" Click here to start! "})]}):(0,N.jsx)("div",{children:"NO APP MODEL"})}}]),t}(y.Component))||r)||r,L=(0,j.f3)("appModel")(a=(0,j.Pi)(a=function(e){(0,x.Z)(t,e);var n=(0,g.Z)(t);function t(){var e;(0,v.Z)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).resumeGame=function(){var n;null===(n=e.props.appModel)||void 0===n||n.resumeGame()},e}return(0,f.Z)(t,[{key:"render",value:function(){var e=this,n=this.props.appModel;return n?(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:"Templato is paused"}),(0,N.jsx)("p",{children:"Current players in the room:"}),(0,N.jsx)("ul",{children:n.players.map((function(e){return(0,N.jsx)("li",{children:e.name},e.playerId)}))}),(0,N.jsx)("button",{className:_.button,disabled:n.players.length<n.minPlayers,onClick:function(){return e.resumeGame()},children:"Resume Game"})]}):(0,N.jsx)("div",{children:"NO APP MODEL"})}}]),t}(y.Component))||a)||a,T=(i=function(e){(0,x.Z)(t,e);var n=(0,g.Z)(t);function t(e){var r;(0,v.Z)(this,t),r=n.call(this,e),(0,p.Z)(r,"announceText",s,(0,m.Z)(r)),(0,p.Z)(r,"textLocation",o,(0,m.Z)(r)),(0,p.Z)(r,"showStatus",l,(0,m.Z)(r));var a=function(e){var n=.01+.01*Math.sin(20*e);r.textLocation="".concat((100*n).toFixed(2),"%")};return r.run([{delay_s:1,id:"Introduce Round",action:function(e){r.announceText="Here we go...",r.slide(1,a)}},{delay_s:2,id:"heads up!",action:function(e){r.announceText="Instructions are on your devices"}},{delay_s:4,id:"Now play",action:function(e){r.showStatus=!0}}]),r}return(0,f.Z)(t)}(b.dm),s=(0,h.Z)(i.prototype,"announceText",[Z.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return" "}}),o=(0,h.Z)(i.prototype,"textLocation",[Z.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=(0,h.Z)(i.prototype,"showStatus",[Z.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i),A=(0,j.f3)("appModel")(d=(0,j.Pi)(d=function(e){(0,x.Z)(t,e);var n=(0,g.Z)(t);function t(e){var r;return(0,v.Z)(this,t),(r=n.call(this,e))._playStartAnimation=void 0,r.animateFrame=function(e){var n,t=document.getElementById("presenterGameCanvas");if(t){var a=t.getContext("2d");if(a){a.fillStyle="#888888";var i=t.width,s=t.height;a.fillRect(0,0,i,s),null===(n=r.props.appModel)||void 0===n||n.players.forEach((function(e){var n=e.x*s,t=e.y*s*.9+.05*s;a.font="50px serif";var r=e.name;""!==e.message&&(r+=" says '".concat(e.message,"'")),a.fillStyle="#777777",a.fillText(r,n+4,t+4),a.fillStyle=e.colorStyle,a.fillText(r,n,t)}))}}},r._playStartAnimation=new T((function(){})),e.appModel.registerAnimation(r._playStartAnimation),e.appModel.onTick.subscribe("animate",(function(e){return r.animateFrame(e)})),e.appModel.subscribe("ColorChange","presenterColorChange",(function(){e.media.playSound(C.sounds.ding)})),r}return(0,f.Z)(t,[{key:"render",value:function(){var e,n=this.props.appModel;return n?(0,N.jsxs)("div",{children:[this._playStartAnimation.showStatus?(0,N.jsxs)("div",{children:["Playing round ",n.currentRound,".  Seconds left: ",n.secondsLeftInStage]}):(0,N.jsxs)("div",{style:{paddingLeft:null!==(e=this._playStartAnimation.textLocation)&&void 0!==e?e:"0px"},children:["\xa0",this._playStartAnimation.announceText]}),(0,N.jsx)("div",{className:_.gameCanvasFrame,children:(0,N.jsx)("canvas",{className:_.gameCanvas,width:"1200px",height:"700px",id:"presenterGameCanvas"})})]}):(0,N.jsx)("div",{children:"NO APP MODEL"})}}]),t}(y.Component))||d)||d,R=(0,j.f3)("appModel")(u=(0,j.Pi)(u=function(e){(0,x.Z)(t,e);var n=(0,g.Z)(t);function t(){return(0,v.Z)(this,t),n.apply(this,arguments)}return(0,f.Z)(t,[{key:"render",value:function(){var e=this.props.appModel;return e?(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{children:["End of round ",e.currentRound]}),e.currentRound>=e.totalRounds?(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{children:"The game is over..."}),(0,N.jsx)("button",{onClick:function(){return e.startGame()},children:"Play again, same players"})]}):(0,N.jsx)("button",{onClick:function(){return e.startNextRound()},children:"Start next round"})]}):(0,N.jsx)("div",{children:"NO APP MODEL"})}}]),t}(y.Component))||u)||u,O=(0,j.f3)("appModel")(c=(0,j.Pi)(c=function(e){(0,x.Z)(t,e);var n=(0,g.Z)(t);function t(e){var r;(0,v.Z)(this,t),(r=n.call(this,e)).media=void 0;var a=r.props.appModel;for(var i in r.media=new b.QS,C.sounds)r.media.loadSound(C.sounds[i]);var s=!1;return null===a||void 0===a||a.onTick.subscribe("Timer Watcher",(function(){a.secondsLeftInStage>10&&(s=!0),a.gameState===M.mr.Playing&&s&&a.secondsLeftInStage<=10&&(s=!1,r.media.repeatSound("ding.wav",5,100))})),null===a||void 0===a||a.subscribe(b.v3.PlayerJoined,"play joined sound",(function(){return r.media.playSound(C.sounds.hello,{volume:.2})})),null===a||void 0===a||a.subscribe(M.qf.ResponseReceived,"play response received sound",(function(){return r.media.playSound(C.sounds.response,{volume:1})})),r}return(0,f.Z)(t,[{key:"renderSubScreen",value:function(){var e=this.props.appModel;if(e)switch(e.gameState){case b.$u.Gathering:return(0,N.jsx)(k,{});case M.mr.Playing:return(0,N.jsx)(A,{media:this.media});case M.mr.EndOfRound:case b.nd.GameOver:return(0,N.jsx)(R,{});case b.nd.Paused:return(0,N.jsx)(L,{});default:return(0,N.jsxs)("div",{children:["Whoops!  No display for this state: ",e.gameState]})}else console.log("NO GAME DATA.  Quitting...")}},{key:"renderFrame",value:function(){var e=this.props.appModel;return e?(0,N.jsxs)("div",{className:S()(_.divRow),children:[(0,N.jsx)("button",{className:S()(_.button),style:{marginRight:"30px"},onClick:function(){return e.quitApp()},children:"Quit"}),(0,N.jsx)("button",{className:S()(_.button),disabled:e.gameState===b.$u.Gathering,style:{marginRight:"30px"},onClick:function(){return e.pauseGame()},children:"Pause"}),(0,N.jsxs)("div",{className:S()(_.roomCode),children:["Room Code: ",e.roomId]}),(0,N.jsx)(b.SQ,{context:e,children:(0,N.jsx)("div",{})}),(0,N.jsxs)("div",{style:{marginLeft:"50px"},children:["v",w.j]})]}):(0,N.jsx)("div",{children:"NO APP MODEL"})}},{key:"render",value:function(){return(0,N.jsxs)(b.f3,{className:_.gamepresenter,uiProperties:this.props.uiProperties,virtualHeight:1080,virtualWidth:1920,children:[this.renderFrame(),(0,N.jsx)("div",{style:{margin:"40px"},children:this.renderSubScreen()})]})}}]),t}(y.Component))||c)||c}}]);
//# sourceMappingURL=753.9c22301d.chunk.js.map